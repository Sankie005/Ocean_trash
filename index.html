<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ocean Trash Depths</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #87CEEB 0%, #4682B4 20%, #191970 50%, #000080 80%, #000000 100%);
            color: white;
            overflow-x: hidden;
            cursor: grab;
            /* Allow scrolling for the entire body to enable depth simulation */
            height: 1000vh; /* This will be dynamically set by JS */
        }

        body:active {
            cursor: grabbing;
        }

        .container {
            position: fixed; /* Keep container fixed and scroll the body */
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            overflow: hidden; /* Hide overflow from ocean-content translation */
        }

        .depth-indicator {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 24px;
            font-weight: bold;
            z-index: 1000;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .ocean-content {
            position: absolute;
            width: 100%;
            /* This will be translated by JS to simulate depth */
            transform: translateY(0px); 
            will-change: transform; /* Optimize for smooth animation */
        }

        .depth-zone {
            position: relative;
            width: 100%;
            height: 120vh; /* Each zone now has a defined height */
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            /* Background gradients for visual depth change */
            transition: background 0.5s ease-out;
        }

        .zone-title {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3em;
            font-weight: bold;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            z-index: 100;
        }

        .trash-item {
            position: absolute;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: float 6s ease-in-out infinite;
            z-index: 50; /* Ensure trash is above zone background but below popup */
        }

        .trash-item:hover {
            transform: scale(1.2);
            filter: brightness(1.3);
        }

        .trash-item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(2deg); }
            50% { transform: translateY(-5px) rotate(-1deg); }
            75% { transform: translateY(-15px) rotate(1deg); }
        }

        .info-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            z-index: 2000;
            display: none;
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.3);
        }

        .info-popup h3 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 24px;
        }

        .info-popup p {
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .close-popup {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: white;
            font-size: 24px;
            cursor: pointer;
        }

        .instructions {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            z-index: 1000;
        }

        .bubble {
            position: fixed; /* Bubbles should float over the entire viewport */
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: bubble 8s linear infinite;
            z-index: 1; /* Bubbles behind trash and content */
        }

        @keyframes bubble {
            0% {
                transform: translateY(100vh) scale(0);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) scale(1);
                opacity: 0;
            }
        }

        /* Depth-specific background colors for a smooth transition */
        body { 
            transition: background-color 0.5s ease-out; /* Smooth background transitions */
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="depth-indicator" id="depthIndicator">Surface - 0m</div>
        
        <div class="instructions">
            <div>üñ±Ô∏è Scroll or drag to dive deeper</div>
            <div>üóëÔ∏è Click on trash items to learn more</div>
        </div>

        <div class="ocean-content" id="oceanContent">
            <div class="depth-zone" id="zone-surface">
                <h2 class="zone-title">Surface Waters</h2>
            </div>
            <div class="depth-zone" id="zone-shallow">
                <h2 class="zone-title">Shallow Waters</h2>
            </div>
            <div class="depth-zone" id="zone-twilight">
                <h2 class="zone-title">Twilight Zone</h2>
            </div>
            <div class="depth-zone" id="zone-midnight">
                <h2 class="zone-title">Midnight Zone</h2>
            </div>
            <div class="depth-zone" id="zone-abyssal">
                <h2 class="zone-title">Abyssal Zone</h2>
            </div>
            <div class="depth-zone" id="zone-hadal">
                <h2 class="zone-title">Hadal Zone</h2>
            </div>
        </div>

        <div class="info-popup" id="infoPopup">
            <button class="close-popup" onclick="closePopup()">&times;</button>
            <h3 id="popupTitle"></h3>
            <p id="popupDescription"></p>
            <p id="popupStats"></p>
        </div>
    </div>

    <script>
        let currentDepth = 0;
        const maxDepth = 11000; // Maximum simulated depth in meters
        const depthZoneHeight = 120; // Height of each depth zone in viewport height units (vh)
        const totalOceanContentHeight = 6 * depthZoneHeight; // Total height of all depth zones in vh
        const depthIndicator = document.getElementById('depthIndicator');
        const oceanContent = document.getElementById('oceanContent');
        const body = document.body;

        // Trash data with depth ranges and information
        const trashData = [
            // Surface waters (0-200m)
            {
                name: "Plastic Bottle",
                emoji: "üçæ",
                minDepth: 0,
                maxDepth: 200,
                info: "Plastic bottles are one of the most common ocean pollutants. They can take 450+ years to decompose.",
                stats: "8 million tons of plastic enter our oceans annually"
            },
            {
                name: "Plastic Bag",
                emoji: "üõçÔ∏è",
                minDepth: 0,
                maxDepth: 300,
                info: "Plastic bags kill over 100,000 marine animals yearly. Sea turtles mistake them for jellyfish.",
                stats: "1 trillion plastic bags are used worldwide each year"
            },
            {
                name: "Cigarette Butt",
                emoji: "üö¨",
                minDepth: 0,
                maxDepth: 150,
                info: "The most littered item globally. Contains toxic chemicals that leach into water.",
                stats: "4.5 trillion cigarette butts are littered annually"
            },
            {
                name: "Food Container",
                emoji: "ü•°",
                minDepth: 0,
                maxDepth: 250,
                info: "Styrofoam and plastic food containers break into microplastics that enter the food chain.",
                stats: "Single-use containers make up 40% of ocean plastic"
            },
            
            // Shallow waters (200-1000m)
            {
                name: "Fishing Net",
                emoji: "üï∏Ô∏è",
                minDepth: 200,
                maxDepth: 1000,
                info: "Ghost nets continue killing marine life for decades. They're called 'walls of death'.",
                stats: "640,000 tons of fishing gear are lost in oceans yearly"
            },
            {
                name: "Tire",
                emoji: "üõû",
                minDepth: 300,
                maxDepth: 800,
                info: "Car tires leach toxic chemicals and microplastics. They're often dumped illegally.",
                stats: "Tire particles are the 2nd largest microplastic pollutant"
            },
            {
                name: "Glass Bottle",
                emoji: "üç∫",
                minDepth: 100, // Can be found shallow as well
                maxDepth: 600,
                info: "Glass takes 1 million years to decompose but doesn't release toxins like plastic.",
                stats: "Glass makes up 5% of marine litter by weight"
            },
            
            // Twilight zone (1000-4000m)
            {
                name: "Aluminum Can",
                emoji: "ü•´",
                minDepth: 800, // Can be found higher as well
                maxDepth: 3000,
                info: "Aluminum cans sink and take 200+ years to decompose in saltwater.",
                stats: "Aluminum is 100% recyclable but still pollutes oceans"
            },
            {
                name: "Shopping Cart",
                emoji: "üõí",
                minDepth: 1000,
                maxDepth: 2500,
                info: "Heavy items like shopping carts sink to deep waters where they're nearly impossible to remove.",
                stats: "Urban runoff carries large debris into waterways"
            },
            {
                name: "Battery",
                emoji: "üîã",
                minDepth: 1200,
                maxDepth: 3500,
                info: "Batteries leak heavy metals like mercury and lead, poisoning marine ecosystems.",
                stats: "3 billion batteries are thrown away annually in the US"
            },
            
            // Midnight zone (4000-6000m)
            {
                name: "Computer Monitor",
                emoji: "üñ•Ô∏è",
                minDepth: 3500, // Can be found higher as well
                maxDepth: 5500,
                info: "E-waste contains toxic materials that persist in deep ocean sediments.",
                stats: "50 million tons of e-waste are generated globally each year"
            },
            {
                name: "Refrigerator",
                emoji: "‚ùÑÔ∏è",
                minDepth: 4000,
                maxDepth: 6000,
                info: "Large appliances become artificial reefs but can leak harmful refrigerants.",
                stats: "Illegal dumping puts 2 million appliances in waterways yearly"
            },
            
            // Abyssal zone (6000-11000m)
            {
                name: "Car Engine",
                emoji: "üîß",
                minDepth: 6000,
                maxDepth: 9000,
                info: "Heavy machinery sinks to the deepest parts and leaches oil and metals for decades.",
                stats: "Auto parts pollution affects deep-sea mining areas"
            },
            {
                name: "Washing Machine",
                emoji: "üåÄ",
                minDepth: 6500,
                maxDepth: 8500,
                info: "White goods in deep waters create toxic zones that affect rare deep-sea species.",
                stats: "Deep ocean cleanup is nearly impossible with current technology"
            },
            
            // Hadal zone (11000m+)
            {
             name: "Infamous Beer Bottle",
             emoji: "üç∫",
             minDepth: 11000, // Assign it to the deepest point
             maxDepth: 12000, // Keep it within or slightly beyond the deepest range for visibility
             info: "The infamous beer bottle found at the Challenger Deep! A testament to human impact even at the greatest depths.",
             stats: "Only one known specimen"
            },
            {
                name: "Microplastics",
                emoji: "üî¨",
                minDepth: 10000, // Starts appearing before Hadal, but prominent here
                maxDepth: 12000, // Beyond maxDepth for visual representation at the very bottom
                info: "Even in Earth's deepest trenches, microplastics have been found in marine life.",
                stats: "Microplastics found in 100% of deep trench samples"
            }
        ];

        // Generate trash items
        function generateTrash() {
            // Clear existing trash items before generating new ones (useful on resize)
            document.querySelectorAll('.trash-item').forEach(item => item.remove());

            // Calculate the total pixel height corresponding to maxDepth
            const totalScrollableHeight = body.scrollHeight - window.innerHeight;

            trashData.forEach((trash) => {
                const count = Math.floor(Math.random() * 3) + 2; // 2-4 items per type
                
                for (let i = 0; i < count; i++) {
                    const trashElement = document.createElement('div');
                    trashElement.className = 'trash-item';
                    trashElement.innerHTML = `<span style="font-size: ${Math.random() * 30 + 20}px">${trash.emoji}</span>`;
                    
                    // Random depth within the trash item's assigned range
                    const randomDepth = Math.random() * (trash.maxDepth - trash.minDepth) + trash.minDepth;
                    
                    // Convert randomDepth (meters) to a pixel position within the scrollable content
                    // The 'currentDepth' variable scales from 0 to maxDepth as we scroll from 0 to totalScrollableHeight
                    // So, to place an item at 'randomDepth', its 'top' offset should be proportional to totalScrollableHeight
                    const yPositionPixels = (randomDepth / maxDepth) * totalScrollableHeight;
                    
                    trashElement.style.left = Math.random() * 80 + 10 + '%';
                    trashElement.style.top = yPositionPixels + 'px'; // Position it relative to ocean-content
                    trashElement.style.animationDelay = Math.random() * 6 + 's';
                    
                    trashElement.onclick = () => showInfo(trash);
                    
                    oceanContent.appendChild(trashElement);
                }
            });
        }

        // Generate bubbles
        function generateBubbles() {
            setInterval(() => {
                if (Math.random() > 0.7) { // Generate a bubble randomly
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble';
                    bubble.style.left = Math.random() * 100 + '%';
                    bubble.style.animationDuration = (Math.random() * 4 + 6) + 's';
                    // Start position for bubble animation (off-screen bottom)
                    bubble.style.bottom = '-20px'; 
                    body.appendChild(bubble);
                    
                    // Remove bubble after its animation
                    setTimeout(() => bubble.remove(), parseFloat(bubble.style.animationDuration) * 1000);
                }
            }, 500);
        }

        // Update depth indicator and ocean content position
        function updateDepth() {
            const scrolled = window.pageYOffset || document.documentElement.scrollTop;
            const totalScrollableHeight = body.scrollHeight - window.innerHeight;
            
            // Calculate current depth in meters
            currentDepth = Math.floor((scrolled / totalScrollableHeight) * maxDepth);
            
            let zone = "Surface";
            let backgroundColor = '#87CEEB'; // Surface
            if (currentDepth >= 10000) {
                zone = "Hadal Zone";
                backgroundColor = '#000000'; // Hadal
            } else if (currentDepth >= 6000) {
                zone = "Abyssal Zone";
                backgroundColor = '#000080'; // Abyssal
            } else if (currentDepth >= 4000) {
                zone = "Midnight Zone";
                backgroundColor = '#191970'; // Midnight
            } else if (currentDepth >= 1000) {
                zone = "Twilight Zone";
                backgroundColor = '#2F4F4F'; // Twilight
            } else if (currentDepth >= 200) {
                zone = "Shallow Waters";
                backgroundColor = '#4682B4'; // Shallow
            }
            
            depthIndicator.textContent = `${zone} - ${currentDepth}m`;
            
            // Smoothly change the background color of the body to reflect depth
            body.style.backgroundColor = backgroundColor;

            // Move the entire ocean-content up/down to simulate diving
            // The scroll position (scrolled) effectively becomes the negative Y translation
            oceanContent.style.transform = `translateY(${-scrolled}px)`;
        }

        // Show trash info popup
        function showInfo(trash) {
            document.getElementById('popupTitle').textContent = trash.name;
            document.getElementById('popupDescription').textContent = trash.info;
            document.getElementById('popupStats').textContent = trash.stats;
            document.getElementById('infoPopup').style.display = 'block';
        }

        // Close popup
        function closePopup() {
            document.getElementById('infoPopup').style.display = 'none';
        }

        // Drag to scroll functionality
        let isDragging = false;
        let startY;
        let scrollTop;

        document.addEventListener('mousedown', (e) => {
            // Prevent dragging if clicking inside the info popup
            if (e.target.closest('.info-popup') || e.target.closest('.instructions')) {
                return;
            }
            isDragging = true;
            startY = e.pageY; // Use e.pageY directly
            scrollTop = document.documentElement.scrollTop;
            body.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            e.preventDefault(); // Prevent text selection and other default behaviors
            const y = e.pageY;
            const walk = (startY - y); // Calculate how much to scroll
            window.scrollTo(0, scrollTop + walk);
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            body.style.cursor = 'grab';
        });

        // Touch support (for mobile devices)
        document.addEventListener('touchstart', (e) => {
            if (e.target.closest('.info-popup') || e.target.closest('.instructions')) {
                return;
            }
            startY = e.touches[0].pageY;
            scrollTop = document.documentElement.scrollTop;
        });

        document.addEventListener('touchmove', (e) => {
            if (e.target.closest('.info-popup') || e.target.closest('.instructions')) {
                return;
            }
            e.preventDefault(); // Prevent default touch behaviors like scrolling the entire page
            const y = e.touches[0].pageY;
            const walk = (startY - y);
            window.scrollTo(0, scrollTop + walk);
        }, { passive: false }); // Use passive: false to allow preventDefault

        // Initialize
        function initializeOcean() {
            // Set the body's scrollable height based on the total depth zones
            body.style.height = `${totalOceanContentHeight}vh`; 
            generateTrash();
            generateBubbles();
            updateDepth(); // Initial update
        }

        // Event listeners
        window.addEventListener('scroll', updateDepth);
        window.addEventListener('resize', () => {
            // Re-calculate body height and regenerate trash on resize
            body.style.height = `${totalOceanContentHeight}vh`;
            generateTrash(); 
            updateDepth();
        });

        // Close popup on click outside
        document.addEventListener('click', (e) => {
            // If the click is outside the popup and not on a trash item
            if (!e.target.closest('.info-popup') && !e.target.closest('.trash-item')) {
                closePopup();
            }
        });


        // Initialize when page loads
        initializeOcean();

        // Smooth scrolling for better UX (optional, can be removed for instant scroll)
        document.documentElement.style.scrollBehavior = 'smooth';
    </script>
</body>
</html>
